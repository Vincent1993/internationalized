# æ—¥æœŸæ ¼å¼åŒ–åŒ…æ¦‚è§ˆ

`@internationalized/date-format` ç»“åˆ `date-fns` ä¸ `Intl.DateTimeFormat`ï¼Œæä¾›ç»Ÿä¸€çš„ç»„ä»¶ã€Hookã€å‡½æ•°å¼ API ä»¥åŠå¸¸ç”¨æ—¥æœŸå¿«æ·å·¥å…·ã€‚

## æ¨¡å—åœ°å›¾

| æ¨¡å— | ç›®å½• | è¯´æ˜ |
|------|------|------|
| Core | `packages/date-format/src/core` | åˆ›å»º `Intl.DateTimeFormat` å®ä¾‹ã€ä¸Šä¸‹æ–‡åˆå¹¶ä¸åŒºé—´æ ¼å¼åŒ– |
| Components | `packages/date-format/src/components` | React ç»„ä»¶ `<DateFormat>` åŠåŸºç¡€æ¸²æŸ“é€»è¾‘ |
| Hooks | `packages/date-format/src/hooks` | `useDateFormat`ã€`useDateFormatContext` ç­‰ Hook |
| FP APIs | `packages/date-format/src/fp` | çº¯å‡½æ•°å…¥å£ã€é»˜è®¤é…ç½®ä¸ç¼“å­˜æ§åˆ¶ |
| Utils | `packages/date-format/src/utils` | æ—¶åŒºå·¥å…·ã€å¿«æ·æ—¥æœŸå‡½æ•°ã€é”™è¯¯æç¤º |
| Tests | `packages/date-format/tests` | æ ¸å¿ƒã€ç»„ä»¶ã€FP ä¸ç±»å‹æµ‹è¯•å¥—ä»¶ |

## ç›®å½•ç»“æ„é€Ÿè§ˆ

```text
packages/date-format/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/           # æ ¼å¼åŒ–æ ¸å¿ƒä¸ä¸Šä¸‹æ–‡
â”‚   â”œâ”€â”€ components/     # React ç»„ä»¶
â”‚   â”œâ”€â”€ hooks/          # React Hooks
â”‚   â”œâ”€â”€ fp/             # å‡½æ•°å¼ API
â”‚   â”œâ”€â”€ utils/          # å·¥å…·æ–¹æ³•ä¸å¿«æ·æ—¥æœŸ
â”‚   â”œâ”€â”€ date-fns.ts     # `date-fns` å¤ç”¨å…¥å£
â”‚   â””â”€â”€ index.ts        # ç»Ÿä¸€å¯¼å‡º
â”œâ”€â”€ tests/              # æµ‹è¯•ç”¨ä¾‹
â””â”€â”€ package.json        # åŒ…ä¿¡æ¯ä¸è„šæœ¬
```

## æ ¸å¿ƒèƒ½åŠ›

- **æ—¥æœŸ/æ—¶é—´ç»„ä»¶**ï¼š`<DateFormat>` æ”¯æŒ `dateStyle`ã€`timeStyle`ã€`timeZone` ç­‰ `Intl.DateTimeFormat` é€‰é¡¹ï¼Œèƒ½å¤Ÿç›´æ¥åœ¨ React ä¸­å±•ç¤ºæœ¬åœ°åŒ–æ–‡æ¡ˆã€‚
- **ä¸Šä¸‹æ–‡åˆå¹¶**ï¼š`DateFormatProvider` æŒ‰å±‚çº§åˆå¹¶ localeã€æ—¶åŒºä¸é»˜è®¤é€‰é¡¹ï¼ŒHook ä¸ç»„ä»¶å…±äº«åŒä¸€å¥—é…ç½®ã€‚
- **å‡½æ•°å¼ API**ï¼š`formatAsDate`ã€`formatAsDateTime`ã€`formatDateRange` ç­‰å‡½æ•°ä¾¿äºåœ¨æœåŠ¡ç«¯ã€è„šæœ¬æˆ–æµ‹è¯•ä¸­å¤ç”¨ã€‚
- **é»˜è®¤é…ç½®ç®¡ç†**ï¼š`config()`ã€`updateDefaultConfig()` ä¸ `resetDefaultConfigs()` å…è®¸é’ˆå¯¹ä¸åŒ locale ç»´æŠ¤ä¸€ç»„é»˜è®¤æ ¼å¼åŒ–é€‰é¡¹ã€‚
- **ç¼“å­˜ä¸ç»Ÿè®¡**ï¼šFP å±‚æä¾› `clearFormatterCache()`ã€`getFPCacheStats()` ç­‰å·¥å…·è§‚å¯Ÿç¼“å­˜å‘½ä¸­ç‡æˆ–è¿›è¡Œé‡ç½®ã€‚
- **å¿«æ·æ—¥æœŸå‡½æ•°**ï¼š`getTodayDate`ã€`getStartOfNextWeek` ç­‰å‡½æ•°ä½¿ç”¨ `date-fns` è¡ç”Ÿå¸¸è§æ—¥æœŸèŠ‚ç‚¹ï¼Œè¿”å› `Date` å¯¹è±¡ä»¥ä¾¿è¿›ä¸€æ­¥è¿ç®—ã€‚

## å¸¸ç”¨æ¨¡å¼

```tsx
import { DateFormat, DateFormatProvider } from '@internationalized/date-format';

export function NextMeeting() {
  return (
    <DateFormatProvider options={{ locale: 'zh-CN', timeZone: 'Asia/Shanghai' }}>
      <DateFormat value={Date.now()} dateStyle="full" timeStyle="short" />
    </DateFormatProvider>
  );
}
```

```ts
import { formatAsDateTimeWithSeconds, formatDateRange } from '@internationalized/date-format/fp';

formatAsDateTimeWithSeconds('2024-05-20T08:30:00Z', { timeZone: 'UTC' });
formatDateRange('2024-05-20', '2024-05-22', { timeZone: 'Asia/Shanghai' });
```

```ts
import { getStartOfNextMonth, getDayBeforeYesterdayDate } from '@internationalized/date-format';

const nextMonth = getStartOfNextMonth();
const dayBeforeYesterday = getDayBeforeYesterdayDate();
```

## èƒ½åŠ›é€ŸæŸ¥è¡¨

| åŠŸèƒ½åˆ†ç±» | API | æè¿° |
|---------|-----|------|
| **åŸºç¡€æ ¼å¼åŒ–** | `<DateFormat>` / `formatAsDate` | åº”ç”¨ `dateStyle: 'short'` ç­‰å¿«é€Ÿè¾“å‡ºæ—¥æœŸ |
| **æ—¶é—´æ ¼å¼** | `<DateFormat timeStyle>` / `formatAsTime` | è¾“å‡ºæ—¶é—´æ®µï¼Œæ”¯æŒè¦†ç›–æ—¶åŒº |
| **æ—¥æœŸæ—¶é—´** | `<DateFormat dateStyle timeStyle>` / `formatAsDateTime` | åŒæ—¶å±•ç¤ºæ—¥æœŸä¸æ—¶é—´ |
| **å«ç§’ç²¾åº¦** | `formatAsDateTimeWithSeconds` | ä½¿ç”¨ `timeStyle: 'medium'` åŒ…å«ç§’æ•° |
| **æ˜ŸæœŸä¸æœˆä»½** | `formatAsWeekday` / `formatAsMonthDay` / `formatAsMonth` | è¾“å‡ºæ˜ŸæœŸæ–‡æœ¬æˆ–ã€ŒXæœˆXæ—¥ã€æ ·å¼ |
| **æ—¥æœŸåŒºé—´** | `<DateFormat value={[start, end]}>` / `formatDateRange` | ä¼˜å…ˆä½¿ç”¨ `Intl.DateTimeFormat#formatRange`ï¼Œå›é€€æ‹¼æ¥å­—ç¬¦ä¸² |
| **æ—¥åˆ/æ—¥æœ«** | `formatAsStartOfDay` / `formatAsEndOfDay` | å€ŸåŠ© `date-fns` å°†æ—¶é—´å½’ä¸€åå†æ ¼å¼åŒ– |
| **å¿«æ·æ—¥æœŸ** | `getTodayDate`ã€`getStartOfNextWeek` ç­‰ | å¿«é€Ÿè·å¾—å¸¸è§æ—¥æœŸèŠ‚ç‚¹ |

> ğŸ“š æƒ³äº†è§£ FP å±‚å‡½æ•°ã€é»˜è®¤é…ç½®ä¸ç¼“å­˜è¯¦æƒ…ï¼Ÿè¯·ç»§ç»­é˜…è¯»[FP å‡½æ•°å‚è€ƒ](/reference/fp)ã€‚

