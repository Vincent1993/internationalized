# 格式化能力

`@internationalized/number-format` 基于 `Intl.NumberFormat` 与插件机制，覆盖货币、比例、科学记数等场景；`@internationalized/date-format` 则结合 `date-fns` 与 `Intl.DateTimeFormat`，统一日期时间的展示与区间逻辑。

本章节从“如何快速用起来”的角度展示两大包的常见模式，更多详细能力已拆分到独立章节：

- [数字格式化包概览](./number-format.mdx)
- [日期格式化包概览](./date-format.mdx)
- [模板字符串](./templates.mdx)
- [FP 函数参考](/reference/fp)

## 数字格式化快速示例

```tsx
import { NumberFormat } from '@internationalized/number-format';

export function GrowthRate() {
  return <NumberFormat value={0.1234} style="percent" maximumFractionDigits={2} />;
}
```

- `style` 支持 `decimal`、`currency`、`percent`，以及扩展插件样式（如 `per-mille`、`per-myriad`、`percentage-point`、`cn-upper`）。
- 配合 `<NumberFormatProvider>` 可以在应用级别统一 locale、货币及指标规则。

```ts
import { formatAsCurrency } from '@internationalized/number-format/fp';

formatAsCurrency(1888.6, 'EUR');
```

- 函数式入口在 Node.js、脚本或测试环境中保持与组件一致的行为。
- 使用 `config()`/`resetDefaultConfigs()` 可以设置 FP 层默认选项。

## 日期格式化快速示例

```tsx
import { DateFormat, DateFormatProvider } from '@internationalized/date-format';

export function NextMeeting() {
  return (
    <DateFormatProvider options={{ locale: 'zh-CN', timeZone: 'Asia/Shanghai' }}>
      <DateFormat value={Date.now()} dateStyle="full" timeStyle="short" />
    </DateFormatProvider>
  );
}
```

- `DateFormatProvider` 会按层级合并 locale、时区与默认选项。
- Hook `useDateFormat` 与组件共享相同的上下文与缓存。

```ts
import { formatDateRange, getStartOfNextMonth } from '@internationalized/date-format/fp';

formatDateRange('2024-05-20', '2024-05-22', { timeZone: 'UTC' });
getStartOfNextMonth();
```

- `formatDateRange` 优先调用 `Intl.DateTimeFormat#formatRange`，必要时自动拼接字符串。
- 快捷日期函数基于 `date-fns` 输出常见日期节点，返回 `Date` 对象以便继续运算。

> 💡 想扩展新的格式化样式或观察缓存命中率？请前往各自包的概览章节查看插件、缓存与类型等进阶内容。
